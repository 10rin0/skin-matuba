<!-- clipboard.js -->
<script src="https://unpkg.com/clipboard@2/dist/clipboard.min.js"></script>
<script>new ClipboardJS('.post-share');</script>

<!-- コピーに成功したらツールチップを出す -->
<style>
    .post-share {
        position: relative;
    }

    .tooltip::after {
        content: 'Copied!';
        background: var(--nc-tx-1);
        display: inline-block;
        color: var(--nc-bg-1);
        border-radius: 2px;
        position: absolute;
        left: 50%;
        top: -12px;
        transform: translate(-50%, 0);
        font-size: .7rem;
        padding: 5px 10px;
        animation: fade-tooltip .5s 1s 1 forwards;
    }

    @keyframes fade-tooltip {
        to {
            opacity: 0;
        }
    }
</style>
<script>
    const clipboard = new ClipboardJS('.post-share');

    const btns = document.querySelectorAll('.post-share');

    for (let i = 0; i < btns.length; i++) {
        btns[i].addEventListener('mouseleave', clearTooltip);
    }
    function clearTooltip(e) {
        e.currentTarget.setAttribute('class', 'post-share');
    }

    function showTooltip(elem) {
        elem.setAttribute('class', 'post-share tooltip');
    }

    clipboard.on('success', function (e) {
        showTooltip(e.trigger);
    });
</script>