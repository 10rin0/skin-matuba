<div id="toggle-theme-button"></div>

<style>
    #toggle-theme-button {
        cursor: pointer;

        padding: 10px;
        border-radius: 50%;
        background-color: var(--nc-tx-1);
        color: var(--nc-bg-1);

        position: fixed;
        top: 20px;
        left: 20px;
        transition: 0.5s;
    }

    #toggle-theme-button::after {
        font-family: "Font Awesome 5 Free";
        content: '\f186';
        font-weight: 400;
        display: inline-block;
        width: 1.5em;
        line-height: 1.5;
        text-align: center;
        font-size: 1.2em;
    }

    [data-theme="dark"] #toggle-theme-button {
        transform: scale(-1, 1)
    }

    [data-theme="dark"] #toggle-theme-button::after {
        font-family: "Font Awesome 5 Free";
        content: '\f185';
        font-weight: 400;
    }
</style>
<script>
    // Check if the user prefers dark mode
    const prefersDarkMode = window.matchMedia(
        "(prefers-color-scheme: dark)",
    ).matches;

    // Set the initial theme based on user preference
    const initialTheme = prefersDarkMode ? "dark" : "light";

    // Check for saved theme preference or use the initial theme
    const savedTheme = localStorage.getItem("theme");
    const theme = savedTheme || initialTheme;

    // Apply the theme to the HTML element
    document.documentElement.setAttribute("data-theme", theme);

    // Function to toggle between light and dark mode
    function toggleTheme() {
        const currentTheme =
            document.documentElement.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";

        // Save the theme preference to localStorage
        localStorage.setItem("theme", newTheme);

        // Apply the new theme to the HTML element
        document.documentElement.setAttribute("data-theme", newTheme);
    }

    // Event listener for a button click to toggle the theme
    document
        .getElementById("toggle-theme-button")
        .addEventListener("click", toggleTheme);
</script>